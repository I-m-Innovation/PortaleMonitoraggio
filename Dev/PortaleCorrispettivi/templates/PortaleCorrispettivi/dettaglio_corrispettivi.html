{% extends 'PortaleCorrispettivi/baselayoutcorispettivi.html' %}
{% load static %}

<script src="{% static 'js/tabellamisure.js' %}"></script>
{% block content%}
	<main class="home-container">
		<div class="item-c py-3 ps-2 mx-1">
			{% include 'PortaleCorrispettivi/partials/sidebar.html' %}
		</div>
		
		<div class="item-b">
			<div class="container-fluid pt-3">
			<div class="row p-0 m-0">
			<div class="col corrispettivi-card px-3 pt-3" style="min-width:80%">
				<img class="sfondo-idroelettrico" src="{% static 'images/sfondo_san_teodoro.png' %}" alt="sfondo">
			<div class="container" style="margin: auto">
				<div class="report-link mt-3">
					<a class="btn btn-dark" href="{% url 'report-impianto' nickname %}"> Report </a>
				</div>
				<h1 style="color: #4a3c54; font-weight: bold; display: inline">{{ impianto.nome_impianto }}</h1> 
				<p>Misure di energia e situazione dei corrispettivi</p> 
				<div class="container">
					
						<!-- Ciclo attraverso tutti gli anni disponibili e includiamo lo schema corrispettivi per ciascun anno -->
						{% for anno in anni_disponibili %}
							{% include 'PortaleCorrispettivi/partials/scheda_corrispettivi.html'  %}
						{% endfor %}
						 <!-- JAVASCRIPT TABELLA1 + GRAFICO -->
						  
						<!-- JAVASCRIPT TABELLA2 MISURE -->
					
						{% if nickname == 'ponte_giurino' %}
							<!-- JAVASCRIPT TABELLA CORRISPETTIVI -->
							{% comment %} {% include 'PortaleCorrispettivi/static/js/dettaglio_corrispettivi_tabella-consorzi_js.html' %} {% endcomment %}
						{% endif %}
				
				</div>
			</div>
				</div>

				</div>
			</div>
		</div>
		</div>
	</main>
{% endblock %}

{% block extra_scripts %}
<script src="{% static 'js/tabellamisure.js' %}"></script>
<script src="{% static 'js/tabellacorrispettivi.js' %}"></script>
<script>
    // Chiama la funzione per caricare i dati della tabella quando la pagina Ã¨ pronta
    document.addEventListener('DOMContentLoaded', function() {
        inizializzaTabellaLetture('{{ anno }}', '{{ nickname }}');
    });
</script>
{% endblock %}




